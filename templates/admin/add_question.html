{% extends "base.html" %}

{% block title %}Добавить вопрос | Админка{% endblock %}

{% block content %}
<h1 class="text-2xl font-bold mb-6">➕ Добавить вопрос — {{ test_type | title }} диагностика</h1>

<!-- ✅ Теперь можно использовать test.id -->
<p class="text-sm text-gray-500 mb-4">Тест ID: {{ test.id }}</p>

<form method="POST" class="space-y-4">
    <div>
        <label class="block font-medium">Номер вопроса</label>
        <input type="number" name="question_number" required class="border p-2 w-full rounded">
    </div>

    <div>
        <label class="block font-medium">Тип вопроса</label>
        <select name="question_type" required class="border p-2 w-full rounded">
            <option value="input">Ответ текстом</option>
            <option value="checkbox">Выбор нескольких</option>
            <option value="match">Установить соответствие</option>
            <option value="textarea">Сочинение</option>
        </select>
    </div>

    <div>
        <label class="block font-medium">Текст вопроса</label>
        <textarea name="question_text" required rows="3" class="border p-2 w-full rounded"></textarea>
    </div>

    <div>
        <label class="block font-medium">Варианты (через |, для checkbox/match)</label>
        <input type="text" name="options" placeholder="опция1|опция2|..." class="border p-2 w-full rounded">
    </div>

    <div>
        <label class="block font-medium">Правильный ответ</label>
        <input type="text" name="correct_answer" required class="border p-2 w-full rounded">
        <p class="text-sm text-gray-500">Для checkbox: 0,1; для match: 1,3,5</p>
    </div>

    <div>
        <label class="block font-medium">Доп. информация (для сочинений)</label>
        <input type="text" name="info" class="border p-2 w-full rounded">
    </div>

    <button type="submit" class="bg-blue-600 text-white px-6 py-2 rounded hover:bg-blue-700">Сохранить вопрос</button>
    <a href="{{ url_for('admin.view_test', test_type=test_type) }}" class="text-gray-600 ml-4">Отмена</a>
</form>


{% endblock %}