<!-- templates/admin/view_test.html -->
{% extends "base.html" %}

{% block title %}–ü—Ä–æ—Å–º–æ—Ç—Ä —Ç–µ—Å—Ç–∞ | –ê–¥–º–∏–Ω–∫–∞{% endblock %}

{% block content %}
<h1 class="text-2xl font-bold mb-4">{{ type_obj.name | title }} –¥–∏–∞–≥–Ω–æ—Å—Ç–∏–∫–∞</h1>

<!-- –ö–Ω–æ–ø–∫–∞ —Ä–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏—è —Ç–µ–∫—Å—Ç–∞ —Ç–µ—Å—Ç–∞ -->
<a href="{{ url_for('admin.edit_test', test_type=type_obj.name) }}"
    class="inline-block mb-6 bg-yellow-500 hover:bg-yellow-600 text-white px-4 py-2 rounded text-sm">
    ‚úèÔ∏è –†–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞—Ç—å —Ç–µ–∫—Å—Ç —Ç–µ—Å—Ç–∞
</a>

<!-- –¢–µ–∫—Å—Ç –∑–∞–¥–∞–Ω–∏—è -->
<div class="bg-white p-4 rounded border mb-6">
    <h2 class="font-semibold mb-2">–¢–µ–∫—Å—Ç –∑–∞–¥–∞–Ω–∏—è</h2>
    <p class="text-sm leading-relaxed whitespace-pre-wrap">{{ test.test_text }}</p>
</div>

<!-- –°–ø–∏—Å–æ–∫ –≤–æ–ø—Ä–æ—Å–æ–≤ —Å –∫–Ω–æ–ø–∫–∞–º–∏ —Ä–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏—è -->
<h2 class="text-xl font-semibold mb-4">–í–æ–ø—Ä–æ—Å—ã</h2>
<div class="space-y-4">
    {% for q in test.questions %}
    <div class="bg-gray-50 p-4 rounded flex justify-between items-start gap-4">
        <div class="flex-1">
            <p class="font-medium">
                <strong>{{ q.question_number }}.</strong> {{ q.question_text }}
            </p>
            <p class="text-sm text-gray-600 mt-1">
                <strong>–¢–∏–ø:</strong> {{ q.question_type }} |
                <strong>–û—Ç–≤–µ—Ç:</strong> {{ q.correct_answer }}
            </p>
            {% if q.options %}
            <p class="text-xs text-gray-500 mt-1">
                <strong>–í–∞—Ä–∏–∞–Ω—Ç—ã:</strong> {{ q.options }}
            </p>
            {% endif %}
            {% if q.info %}
            <p class="text-xs text-gray-500 mt-1">
                <strong>–ò–Ω—Ñ–æ:</strong> {{ q.info }}
            </p>
            {% endif %}
        </div>
        <div class="flex-shrink-0 space-y-2">
            <!-- –ö–Ω–æ–ø–∫–∞ —Ä–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏—è –≤–æ–ø—Ä–æ—Å–∞ -->
            <a href="{{ url_for('admin.edit_question', question_id=q.id) }}"
                class="block text-yellow-600 hover:text-yellow-800 hover:underline text-sm font-medium">
                ‚úèÔ∏è –†–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞—Ç—å
            </a>

            <!-- –û–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ: –∫–Ω–æ–ø–∫–∞ —É–¥–∞–ª–µ–Ω–∏—è (–µ—Å–ª–∏ –¥–æ–±–∞–≤–∏—à—å –ø–æ–∑–∂–µ) -->
            <!--
            <form action="{{ url_for('admin.delete_question', question_id=q.id) }}" method="POST" class="inline" onsubmit="return confirm('–£–¥–∞–ª–∏—Ç—å –≤–æ–ø—Ä–æ—Å?')">
                <button type="submit" class="text-red-600 hover:text-red-800 text-sm">üóëÔ∏è –£–¥–∞–ª–∏—Ç—å</button>
            </form>
            -->
        </div>
    </div>
    {% else %}
    <p class="text-gray-500">–ù–µ—Ç –≤–æ–ø—Ä–æ—Å–æ–≤.</p>
    {% endfor %}
</div>

<!-- –ö–Ω–æ–ø–∫–∞ –¥–æ–±–∞–≤–ª–µ–Ω–∏—è –≤–æ–ø—Ä–æ—Å–∞ -->
<div class="mt-6">
    <a href="{{ url_for('admin.add_question', test_type=type_obj.name) }}"
        class="inline-block bg-green-600 hover:bg-green-700 text-white px-4 py-2 rounded text-sm font-medium transition">
        ‚ûï –î–æ–±–∞–≤–∏—Ç—å –≤–æ–ø—Ä–æ—Å
    </a>
</div>
{% endblock %}