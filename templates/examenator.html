<!-- templates/examenator.html -->
{% extends "base.html" %}

{% block title %}–ù–µ–π—Ä–æ—ç–∫–∑–∞–º–µ–Ω–∞—Ç–æ—Ä | –ù–µ–π—Ä–æ—Å—Ç–∞—Ç{% endblock %}

{% block content %}
<section class="py-12 bg-white">
    <div class="container mx-auto px-6">

        <h1 class="text-3xl font-bold text-center mb-4">üß† –ù–µ–π—Ä–æ—ç–∫–∑–∞–º–µ–Ω–∞—Ç–æ—Ä</h1>
        <p class="text-center text-gray-600 mb-12">–ü—Ä–æ–π–¥–∏—Ç–µ –¥–∏–∞–≥–Ω–æ—Å—Ç–∏–∫—É: –≤—Ö–æ–¥—è—â–∞—è, —Ç–µ–∫—É—â–∞—è, –∏—Ç–æ–≥–æ–≤–∞—è.</p>

        <!-- –¢—Ä–∏ —Ç–µ—Å—Ç–∞ -->
        {% for type in test_types %}
        <div class="bg-gray-50 p-6 rounded-xl mb-10" id="{{type}}-container">
            <h2 class="text-2xl font-bold text-blue-700 mb-2">{{ examenatorData[type].title }}</h2>
            <p class="text-sm text-gray-500 mb-4">–¢–µ–∫—Å—Ç –∑–∞–¥–∞–Ω–∏—è</p>

            <div class="bg-white p-4 rounded border mb-6 text-sm leading-relaxed whitespace-pre-wrap">
                {{ examenatorData[type].text }}
            </div>

            <div id="{{type}}-questions"></div>
        </div>
        {% endfor %}

        <button onclick="checkAllTests()"
            class="bg-blue-600 hover:bg-blue-700 text-white font-semibold px-8 py-3 rounded-lg transition">
            –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –≤—Å–µ —Ç–µ—Å—Ç—ã
        </button>

        <div class="result mt-6 p-4 bg-blue-100 text-blue-800 rounded-lg hidden" id="result">
            <strong>–í–∞—à —Ä–µ–∑—É–ª—å—Ç–∞—Ç:</strong> <span id="score">0</span>/<span id="max-score">0</span> –±–∞–ª–ª–æ–≤.<br>
            <span id="level"></span>
        </div>
    </div>
</section>
{% endblock %}

{% block scripts %}
<script>
    // @ts-nocheck
    window.examenatorData = {{ examenatorData | tojson }};
    window.testTypes = {{ test_types | tojson }};
</script>
<script src="{{ url_for('static', filename='js/examenator.js') }}"></script>
{% endblock %}