<!-- templates/base.html -->

<!DOCTYPE html>
<html lang="ru" class="scroll-smooth">

<head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>{% block title %}Нейростат — Онлайн-школа с нейросотрудниками{% endblock %}</title>

    <!-- Tailwind CSS CDN -->
    <script src="https://cdn.tailwindcss.com"></script>

    <!-- Кастомные стили (если используются только utility-классы) -->
    <link rel="stylesheet" href="{{ url_for('static', filename='css/style.css') }}" />

    <!-- Иконки -->
    <link href="https://fonts.googleapis.com/css2?family=Material+Symbols+Outlined" rel="stylesheet" />

    <!-- Блок для кастомных стилей или скриптов в детях -->
    {% block head %}{% endblock %}
</head>

<body class="bg-gray-50 text-gray-800">

    <!-- Навигация -->
    <nav class="bg-white shadow-sm border-b fixed w-full top-0 z-50">
        <div class="container mx-auto px-6 py-3 flex items-center justify-between">
            <a href="{{ url_for('main.index') }}" class="text-xl font-bold text-blue-600">Нейростат</a>
            <div class="space-x-6">
                <a href="{{ url_for('main.index') }}" class="hover:text-blue-600 transition">Главная</a>
                <a href="{{ url_for('main.about') }}" class="hover:text-blue-600 transition">О школе</a>
                <!-- Кнопки Вход / Регистрация - Выход / ЛК -->

                {% if 'user_id' in session %}
                <!-- Пользователь авторизован -->
                <a href="{{ url_for('main.profile') }}"
                    class="inline-flex items-center px-4 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700 transition font-medium">
                    <span class="material-symbols-outlined mr-1">account_circle</span> ЛК {{ current_user.username
                    }}
                </a>
                <a href="{{ url_for('main.logout') }}"
                    class="inline-flex items-center px-4 py-2 border border-red-600 text-red-600 rounded-lg hover:bg-red-50 transition font-medium">
                    <span class="material-symbols-outlined mr-1">logout</span> Выход
                </a>
                {% else %}
                <!-- Гость -->
                <a href="{{ url_for('main.login') }}"
                    class="inline-flex items-center px-4 py-2 border border-blue-600 text-blue-600 rounded-lg hover:bg-blue-50 transition font-medium">
                    <span class="material-symbols-outlined mr-1">login</span> Вход
                </a>
                <a href="{{ url_for('main.register') }}"
                    class="inline-flex items-center px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition font-medium">
                    <span class="material-symbols-outlined mr-1">person_add</span> Регистрация
                </a>
                {% endif %}

            </div>
        </div>
    </nav>

    <!-- Контент -->
    <main class="pt-16">
        {% block content %}{% endblock %}
    </main>

    <!-- Подвал -->
    <footer class="bg-gray-100 mt-12 py-8">
        <div class="container mx-auto px-6 text-center text-gray-600">
            &copy; 2025 Нейростат. Обучение с нейросетями будущего.
        </div>
    </footer>

    <!-- Глобальные скрипты -->
    <script src="{{ url_for('static', filename='js/script.js') }}"></script>
    {% block scripts %}{% endblock %}
</body>

</html>