# app\utils\primary_to_secondary.pyapp\utils\primary_to_secondary.py
# Шкала перевода первичных баллов в тестовые (ЕГЭ по русскому языку, 2025)
PRIMARY_TO_SECONDARY = {
    0: 0,
    1: 3,
    2: 5,
    3: 8,
    4: 10,
    5: 12,
    6: 15,
    7: 17,
    8: 20,
    9: 22,
    10: 24,
    11: 27,
    12: 29,
    13: 32,
    14: 34,
    15: 36,
    16: 37,
    17: 39,
    18: 40,
    19: 42,
    20: 43,
    21: 45,
    22: 46,
    23: 48,
    24: 49,
    25: 51,
    26: 52,
    27: 54,
    28: 55,
    29: 57,
    30: 58,
    31: 60,
    32: 61,
    33: 63,
    34: 64,
    35: 66,
    36: 67,
    37: 69,
    38: 70,
    39: 72,
    40: 73,
    41: 75,
    42: 78,
    43: 81,
    44: 83,
    45: 86,
    46: 89,
    47: 91,
    48: 94,
    49: 97,
    50: 100
}

def get_secondary_score(primary_score):
    """
    Возвращает тестовый балл по первичному.
    Если первичный > 50, возвращает 100.
    Если < 0 — 0.
    """
    return PRIMARY_TO_SECONDARY.get(
        min(max(primary_score, 0), 50),  # Ограничиваем 0–50
        100  # на всякий случай
    )